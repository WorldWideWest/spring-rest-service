<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Student Form</title>
    <style>

        form{
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 50vw;
            margin: auto;
        }
        .form-text{
            color: #dc3545;
        }

        .table-responsive{
            display: flex;
            flex-direction: column;
            width: 90vw;
            margin: auto;
        }

    </style>
</head>
<body>
    <form action="#" th:action="@{/student}" th:object="${student}" method="POST">
        <div class="mb-3">
            <label for="firstName" class="form-label">First Name</label>
            <input type="text" th:field="*{firstName}" class="form-control" id="firstName" aria-describedby="firstName" >
            <div id="firstName" class="form-text" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></div>
        </div>
        <div class="mb-3">
            <label for="lastName" class="form-label">Last Name</label>
            <input type="text" th:field="*{lastName}" class="form-control" id="lastName" aria-describedby="lastName" >
            <div id="lastName" class="form-text" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></div>
        </div>

        <div class="mb-3">
            <label for="faculty" class="form-label">Faculty</label>
            <input type="text" th:field="*{faculty}" class="form-control" id="faculty" aria-describedby="faculty" >
            <div id="faculty" class="form-text" th:if="${#fields.hasErrors('faculty')}" th:errors="*{faculty}"></div>
        </div>

          <button type="submit" class="btn btn-primary btn-lg">Submit</button>
    </form>

    <div class="table-responsive">
        <table class="table table-hover">
            <thead>
                <tr>
                    <td>First Name</td>
                    <td>Last Name</td>
                    <td>Faculty</td>
                    <td>Actions</td>
                </tr>
            </thead>
            <tbody>
                <tr th:each="student : ${students}">
                    <td th:text="${student.firstName}"></td>
                    <td th:text="${student.lastName}"></td>
                    <td th:text="${student.faculty}"></td>
                    <td>
                        <a th:href="@{'/student/delete/' + ${student.id}}" class="btn-close btn-lg"></a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>